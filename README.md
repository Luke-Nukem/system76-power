# system76-power

A power management daemon and utility, from System76. On Pop!_OS, it is accompanied with the [gnome shell extension](https://github.com/pop-os/gnome-shell-extension-system76-power) to control the daemon from the shell.

## Features

- A power daemon with a DBUS API
- Configurable power profiles: battery, balanced, performance
- Ability to query for switchable graphics, and the active graphics
- Switching between Intel and NVIDIA graphics

## Configuration

The daemon's configuration file is automatically generated the first time it is run, and is stored at `/etc/system76-power/config.toml`. It will look exactly like this:

```toml
# This config is automatically generated by system76-power.

[defaults]
# The default profile that will be set on disconnecting from AC.
battery = 'balanced'
# The default profile that will be set on connecting to AC.
ac = 'performance'
# The last profile that was activated
last_profile = 'balanced'
# Uncomment to enable extra untested power-saving features
# experimental = true

[threshold]
# Defines what percentage of battery is required to set the profile to 'battery'.
crtical = 25
# Defines what percentage of battery is required to revert the critical change.
normal = 50

[profiles.battery]
backlight = { keyboard = 0, screen = 10 }
pstate = { min = 0, max = 50, turbo = false }
# script = '$PATH'

[profiles.balanced]
backlight = { keyboard = 50, screen = 40 }
pstate = { min = 0, max = 100, turbo = true }
# script = '$PATH'

[profiles.performance]
backlight = { keyboard = 100, screen = 100 }
pstate = { min = 50, max = 100, turbo = true }
# script = '$PATH'
```

Note that the `experimental` option will enable some additional power-saving features, as seen from Powertop's autotune & TLP.